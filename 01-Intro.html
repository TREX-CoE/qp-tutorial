<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-04-17 Mon 14:53 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Getting Started with Quantum Package</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="A. Ammar, E. Giner, P.-F. Loos, A. Scemama" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="org-html-themes/src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="org-html-themes/src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> PREV </a>
 |
 <a accesskey="H" href="02-N2.html"> NEXT </a>
</div><div id="content">
<h1 class="title">Getting Started with Quantum Package</h1>
<div id="table-of-contents">
<a href="index.html"><h2>HOME</h2></a>
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org20624b4">1. Introduction</a></li>
<li><a href="#org6d391df">2. Environment Setup</a></li>
<li><a href="#org4a72b64">3. Creating an EZFIO Database</a></li>
<li><a href="#org926002e">4. Running Calculations</a></li>
</ul>
</div>
</div>

<div class="figure">
<p><img src="./images/QP.png" alt="QP.png" width="100px" />
</p>
</div>


<div id="outline-container-org20624b4" class="outline-2">
<h2 id="org20624b4"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
Welcome to Quantum Package (QP), an open-source environment for
developing quantum chemistry programs. QP is designed to be
user-friendly and easy to use, while still providing powerful tools
for quantum chemistry calculations. In this tutorial, we will guide
you through the basics of using QP, including setting up the
environment, creating an EZFIO database, and running calculations.
</p>
</div>
</div>

<div id="outline-container-org6d391df" class="outline-2">
<h2 id="org6d391df"><span class="section-number-2">2</span> Environment Setup</h2>
<div class="outline-text-2" id="text-2">
<p>
Before using QP, you need to set up the environment. QP requires a
few environment variables to be set, so that it can find the
necessary libraries and programs. Here's how you can set up the
environment:
</p>

<div class="important">
<ol class="org-ol">
<li>Clone QP from <a href="https://github.com/QuantumPackage/qp2">https://github.com/QuantumPackage/qp2</a></li>
<li>Install the dependencies and configure the compilation by running:</li>
</ol>

<div class="org-src-container">
<pre class="src src-bash">./configure -i all
./configure -c ./config/gfortran_avx.cfg
source quantum_package.rc
ninja
</pre>
</div>

<p>
Note that <code>$QP_ROOT</code> refers to the <code>qp2</code> directory.
</p>

</div>

<p>
You can use your shell, or alternatively the QP shell to interact
with QP. Here's how you can start the QP shell:
</p>

<div class="org-src-container">
<pre class="src src-bash">qpsh
</pre>
</div>

<p>
Now you're ready to start using QP!
</p>
</div>
</div>

<div id="outline-container-org4a72b64" class="outline-2">
<h2 id="org4a72b64"><span class="section-number-2">3</span> Creating an EZFIO Database</h2>
<div class="outline-text-2" id="text-3">
<p>
QP stores input and output data in a database, called the <i>EZFIO directory</i>.
To interact with the database, QP provides multiple shell functions,
scripts, and programs. Here's how you can create an EZFIO database:
</p>

<ol class="org-ol">
<li>Create a file with a molecular geometry in either <i>xyz</i> or <i>z-matrix</i> format. For example, let's create a file for the water molecule in <i>xyz</i> format:</li>
</ol>

<div class="org-src-container">
<pre class="src src-text">3
Water
O       0.                     0.   0.
H      -0.756950272703377558   0.  -0.585882234512562827
H       0.756950272703377558   0.  -0.585882234512562827
</pre>
</div>

<ol class="org-ol">
<li>Create an EZFIO database containing the geometry and the basis set parameters for the cc-pVDZ basis set:</li>
</ol>

<div class="org-src-container">
<pre class="src src-bash">qp create_ezfio --basis=cc-pvdz h2o.xyz
</pre>
</div>

<p>
A directory named <code>h2o.ezfio</code> has been created, and is selected as the
currently used EZFIO directory in the current shell. To switch to
another EZFIO database, use
</p>

<div class="org-src-container">
<pre class="src src-bash">qp set_file other.ezfio
</pre>
</div>

<p>
Note that when running interactively with <code>qpsh</code>, the current EZFIO
database is displayed in the terminal prompt.
</p>

<p>
The EZFIO database is a directory containing subdirectories. Each
subdirectory contains files. Each data is stored in a text file:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ ls h2o.ezfio/
ao_basis              davidson         mol_properties     qmcchem
ao_one_e_ints         density_for_dft  mo_one_e_ints      scf_utils
ao_two_e_erf_ints     determinants     mo_two_e_erf_ints  tc_keywords
ao_two_e_ints         dft_keywords     mo_two_e_ints      trexio
basis                 dressing         mpn                two_body_rdm
becke_numerical_grid  electrons        mu_of_r            utils
cc_utils              ezfio            nuclei             utils_cc
cipsi                 fci_tc_bi        perturbation       utils_trust_region
cipsi_tc_bi_ortho     general_mrci     pseudo             work
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash">$ ls h2o.ezfio/ao_basis/
ao_basis      ao_expo.gz     ao_nucl.gz   ao_prim_num.gz
ao_cartesian  ao_md5         ao_num       primitives_normalized
ao_coef.gz    ao_normalized  ao_power.gz
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash">$ cat h2o.ezfio/ao_basis/ao_num 
                  25
</pre>
</div>
</div>
</div>

<div id="outline-container-org926002e" class="outline-2">
<h2 id="org926002e"><span class="section-number-2">4</span> Running Calculations</h2>
<div class="outline-text-2" id="text-4">
<p>
Now that you have an EZFIO database, you can use QP to run
calculations. Here's how you can run a Hartree-Fock calculation:
</p>

<div class="org-src-container">
<pre class="src src-bash">qp run scf | tee h2o.scf.out
</pre>
</div>

<p>
This will run the SCF program of QP and save the standard output to
the file <code>h2o.scf.out</code>. The Hartree-Fock orbitals are stored inside
the EZFIO database, so if you run the SCF code again, it will
converge in a single iteration because it takes the MOs stored
inside the database as an initial guess.
</p>

<p>
To run a singles doubles configuration interaction (CISD)
calculation, you can use the following commands:
</p>

<div class="org-src-container">
<pre class="src src-bash">qp set_frozen_core
qp run cisd | tee h2o.cisd.out
</pre>
</div>

<p>
The <code>qp set_frozen_core</code> command is used to exclude the single- and
double-excitations from the core <i>s</i> orbitals. The output of this command
shows that orbital <code>1</code> is labeled as <code>Core</code> and orbitals 2-24 are
labeled as <code>Active</code>.
</p>

<p>
You can modify the input parameters of the programs using the
interactive command <code>qp edit</code>. This will open a temporary file
filled-in with data coming from the EZFIO database. When the file is
saved and the editor is exited, the data is saved back into the
EZFIO.
</p>

<div class="note">
<p>
You can change the text editor used by qp edit by setting the
<code>EDITOR</code> environment variable to the desired editor, for example, to
use Emacs as the editor, run <code>export EDITOR=emacs</code> before running the
<code>qp edit</code> command.
</p>

</div>

<p>
Alternatively, all the input parameters can be inspected in the
shell using <code>qp get</code>, for example:
</p>

<div class="org-src-container">
<pre class="src src-bash">qp get determinants n_det_max
</pre>
</div>

<p>
The parameters can be set in the shell using <code>qp set</code>, for example:
</p>

<div class="org-src-container">
<pre class="src src-bash">qp set determinants n_det_max 2000
</pre>
</div>

<p>
You can use Tab-completion with the <code>qp</code> command, which makes the
shell interaction more user-friendly.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: A. Ammar, E. Giner, P.-F. Loos, A. Scemama</p>
<p class="date">Created: 2023-04-17 Mon 14:53</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
